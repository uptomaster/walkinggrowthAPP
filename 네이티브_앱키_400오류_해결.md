# 네이티브 앱키 등록 400 오류 해결 가이드

## 🔴 400 오류 원인

400 오류는 **잘못된 요청(Bad Request)**을 의미합니다. 다음 항목들을 확인하세요:

---

## ✅ 확인 사항

### 1. 키 이름 (필수 필드)

**확인:**
- [ ] 키 이름이 입력되어 있나요?
- [ ] 키 이름이 45자 이하인가요?
- [ ] 키 이름에 특수문자가 포함되어 있지 않나요?

**권장 입력:**
```
WalkStory Android
```

### 2. 패키지 이름 형식

**확인:**
- [ ] 패키지 이름이 정확히 `com.walkstory.app`인가요?
- [ ] 앞뒤 공백이 없나요?
- [ ] 대소문자가 정확한가요?

**올바른 형식:**
```
com.walkstory.app
```

### 3. 키 해시 형식 (가장 중요!)

카카오 개발자 콘솔은 **Base64 형식**의 키 해시를 요구할 수 있습니다.

**현재 키 해시 (콜론 포함 형식):**
```
61:1F:95:D5:03:7C:A3:D7:77:99:2B:6E:AD:66:25:D5:C9:F2:E0:48
```

**Base64 형식으로 변환 필요할 수 있습니다.**

#### Base64 변환 방법

**방법 1: 온라인 변환 도구 사용**
1. [Base64 인코더](https://www.base64encode.org/) 접속
2. 콜론을 제거한 키 해시 입력: `61F95D5037CA3D777992B6EAD6625D5C9F2E048`
3. Base64로 인코딩된 값 복사

**방법 2: PowerShell 사용**

```powershell
# 콜론 제거
$hash = "61:1F:95:D5:03:7C:A3:D7:77:99:2B:6E:AD:66:25:D5:C9:F2:E0:48"
$hashNoColon = $hash -replace ":", ""
# 16진수를 바이트로 변환 후 Base64 인코딩
$bytes = [System.Convert]::FromHexString($hashNoColon)
$base64 = [System.Convert]::ToBase64String($bytes)
Write-Host $base64
```

**방법 3: Gradle로 다시 생성 (Base64 형식)**

카카오 문서에 따르면, Base64 형식의 키 해시를 생성하려면:

**Mac:**
```bash
keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore -storepass android -keypass android | openssl sha1 -binary | openssl base64
```

**Windows (OpenSSL 필요):**
```bash
keytool -exportcert -alias androiddebugkey -keystore %USERPROFILE%\.android\debug.keystore -storepass android -keypass android | openssl sha1 -binary | openssl base64
```

### 4. 스토어 URL 형식

**확인:**
- [ ] 스토어 URL이 올바른 형식인가요?

**올바른 형식:**
```
market://details?id=com.walkstory.app
```

또는

```
https://play.google.com/store/apps/details?id=com.walkstory.app
```

---

## 🔧 해결 방법

### 단계별 확인

1. **키 이름 입력 확인**
   - "키 이름" 필드에 `WalkStory Android` 입력

2. **키 해시 형식 변경 시도**
   - 현재: `61:1F:95:D5:03:7C:A3:D7:77:99:2B:6E:AD:66:25:D5:C9:F2:E0:48` (콜론 포함)
   - 시도 1: 콜론 제거: `61F95D5037CA3D777992B6EAD6625D5C9F2E048`
   - 시도 2: Base64 형식으로 변환 (위 방법 사용)

3. **패키지 이름 재확인**
   - 복사-붙여넣기로 정확히 입력
   - 앞뒤 공백 제거

4. **스토어 URL 확인**
   - `market://details?id=com.walkstory.app` 형식 사용

---

## 💡 참고

- 카카오 개발자 콘솔의 UI가 업데이트되면서 키 해시 형식 요구사항이 변경되었을 수 있습니다
- 콜론 포함 형식과 Base64 형식 중 어느 것이 맞는지 콘솔의 도움말이나 예시를 확인하세요
- 키 해시 입력 필드 옆에 "예시" 또는 "도움말" 버튼이 있다면 확인해보세요

---

## 🆘 여전히 해결되지 않으면

1. **브라우저 개발자 도구 확인**
   - F12 키를 눌러 개발자 도구 열기
   - Network 탭에서 실패한 요청 클릭
   - Response 탭에서 상세 오류 메시지 확인

2. **카카오 고객센터 문의**
   - 카카오 개발자 콘솔 하단의 "문의하기" 또는 "고객센터" 링크 클릭
   - 400 오류와 함께 입력한 정보를 문의
