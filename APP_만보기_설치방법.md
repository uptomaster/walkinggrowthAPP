# 산책 성장기 앱으로 설치하는 방법

두 가지 방법이 있습니다.

---

## 방법 1: PWA – 홈 화면에 추가 (가장 간단)

**조건:** 산책 성장기 페이지를 **웹 주소(https 또는 http)** 로 열어야 합니다.  
파일을 직접 열면( `file://` ) “홈 화면에 추가”가 안 나올 수 있어요.

### 1) PC에서 서버 실행

이 폴더에서 터미널을 열고:

```bash
python -m http.server 8080
```

또는 (Node 설치되어 있으면):

```bash
npx serve -p 8080
```

### 2) 핸드폰에서 접속

- 핸드폰을 **같은 Wi‑Fi**에 연결
- PC IP 주소 확인 (예: `192.168.0.5`)
- 핸드폰 브라우저(Chrome 권장)에서 주소 입력:  
  `http://PC의IP:8080/walk-growth.html`  
  예: `http://192.168.0.5:8080/walk-growth.html`

### 3) 홈 화면에 추가

- **Android (Chrome):**  
  메뉴(⋮) → **“홈 화면에 추가”** 또는 **“앱 설치”** → 설치
- **iPhone (Safari):**  
  공유 버튼 → **“홈 화면에 추가”** → 추가

이제 홈 화면에 **산책 성장기** 아이콘이 생기고, 탭하면 앱처럼 전체 화면으로 실행됩니다.

---

## 방법 2: 실제 앱(APK)으로 빌드 – Capacitor

플레이 스토어에 올리거나, APK 파일을 만들어서 나눠 쓰고 싶다면 이 방법을 사용하세요.

### 필요한 것

- Node.js 설치
- Android Studio 설치 (Android SDK)

### 순서

1. **프로젝트 폴더에서 터미널 열기**

2. **패키지 초기화 및 Capacitor 설치**

```bash
npm init -y
npm install @capacitor/core @capacitor/cli
npx cap init "산책 성장기" "com.pedometer.app"
```

3. **Android 플랫폼 추가**

```bash
npm install @capacitor/android
npx cap add android
```

4. **웹 파일 준비 후 동기화** (이미 `capacitor.config.json`에 `webDir: "www"` 로 되어 있음)

   **⚠️ 중요:** `walk-growth.html`을 수정한 뒤에는 **반드시** 아래를 실행한 다음 APK를 빌드하세요.  
   안 하면 이전 버전이 APK에 들어갑니다.

```bash
npm run prepare-android
npx cap sync
```

5. **Android Studio에서 열기**

```bash
npx cap sync
npx cap open android
```

6. **Android Studio에서**

- 상단 메뉴 **Build → Build Bundle(s) / APK(s) → Build APK(s)** 선택
- 빌드가 끝나면 **APK** 파일 위치가 안내됩니다. 그 파일을 핸드폰으로 옮겨 설치하면 됩니다.

**다시 빌드할 때:** 웹 소스(`walk-growth.html`)를 수정했다면 터미널에서 `npm run prepare-android` → `npx cap sync` 실행 후 Android Studio에서 다시 빌드하세요.

---

## 정리

| 목적 | 추천 |
|------|------|
| 내 폰에서만 앱처럼 쓰기 | **방법 1 (PWA)** – 서버 띄우고 → 브라우저로 접속 → 홈 화면에 추가 |
| APK 만들어서 배포/설치 | **방법 2 (Capacitor)** – 위 순서대로 APK 빌드 |

PWA로 설치해 두면 앱처럼 전체 화면으로 쓰고, 다음에 접속할 때도 홈 화면 아이콘만 누르면 됩니다.

---

## 위치 권한 (산책 기능)

**산책 시작** 버튼을 누르면 **걸은 거리(GPS)** 를 잴 때 위치가 필요합니다. 아래처럼 허용해 주세요.

### PWA 또는 브라우저에서 쓸 때

- **처음 "산책 시작"을 누르면** 브라우저가 **"위치 권한"** 팝업을 띄웁니다.
  - **"허용"** 또는 **"Allow"** 를 선택하세요.
- 한 번 **"차단"** 했었다면:
  - **Chrome (Android):** 주소창 왼쪽 자물쇠(또는 ⓘ) → **사이트 설정** → **권한** → **위치** → **허용**
  - **Safari (iPhone):** **설정** → **Safari** → **위치** → **허용** 또는, **설정** → **개인정보 보호** → **위치 서비스** → **Safari** → **앱 사용 중 허용**

### APK(앱)로 설치했을 때

- **처음 "산책 시작"을 누르면** Android가 **위치 권한** 요청 창을 띄웁니다.
  - **"앱 사용 중에만 허용"** 또는 **"허용"** 을 선택하세요. (정확한 거리 측정을 위해 **정확한 위치** 권한이 필요합니다.)
- 이미 **거부** 했었다면:
  - **설정** → **앱** → **산책 성장기** → **권한** → **위치** → **허용** (또는 **앱 사용 중에만 허용**)
- **위치를 켜 놨는데도** 안 되면:
  - **설정** → **위치** 에서 **위치 서비스**가 켜져 있는지 확인
  - **설정** → **앱** → **산책 성장기** → **권한** 에서 **위치**가 허용인지 확인
  - 야외나 창가처럼 **GPS가 잘 잡히는 곳**에서 다시 **산책 시작** 시도
